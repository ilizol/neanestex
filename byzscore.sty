\ProvidesPackage{byzscore}

\RequirePackage{tikz}
\RequirePackage{xcolor}
\RequirePackage{graphicx}
\RequirePackage{luacode}

\usetikzlibrary{positioning}

\newfontfamily\byzneumefont{Neanes.otf}
\newfontfamily\byzlyricfont{SourceSerif4-Regular.otf}
\newfontfamily\byzdropcapfont{PFGoudyInitials.ttf}
%\newfontfamily\byzdropcapfont{Bahnschrift}

\begin{luacode*}
    dofile("byzscore.lua")
\end{luacode*}

\newlength{\byzneumesize}
\setlength{\byzneumesize}{20bp}

\newlength{\byzlyricsize}
\setlength{\byzlyricsize}{12bp}

% \byzneume
% #1 optional color
% #2 required hex unicode value
% Example usage:
% \byzneume[E000] prints an ison in the default color and size
\newcommand{\byzneume}[2][000000]{%
\textcolor[HTML]{#1}{%
\fontsize{\byzneumesize}{\baselineskip}%
\byzneumefont%
\char"#2}%
}

% Command to draw a full score at the macro insertion point
\newcommand{\byzscore}[1]{%
    \directlua{parse_notes("#1")}
}
